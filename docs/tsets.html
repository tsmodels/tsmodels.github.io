<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 tsets package | A Time Series Framework</title>
  <meta name="description" content="Documentation for the tsmodels framework" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 tsets package | A Time Series Framework" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Documentation for the tsmodels framework" />
  <meta name="github-repo" content="tsmodels/tsmodels.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 tsets package | A Time Series Framework" />
  
  <meta name="twitter:description" content="Documentation for the tsmodels framework" />
  

<meta name="author" content="The tsmodels team" />


<meta name="date" content="2022-05-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tsmethods.html"/>
<link rel="next" href="tsissm.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-177357579-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  
  function gtag(){dataLayer.push(arguments);}
  
  gtag('js', new Date());
  
  gtag('config', 'UA-177357579-1');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Time Series Forecasting Framework</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Installation</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="tsmethods.html"><a href="tsmethods.html"><i class="fa fa-check"></i><b>3</b> tsmethods package</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tsmethods.html"><a href="tsmethods.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="tsmethods.html"><a href="tsmethods.html#tsmethods:simulation"><i class="fa fa-check"></i><b>3.2</b> Ensembling Forecast Distributions</a></li>
<li class="chapter" data-level="3.3" data-path="tsmethods.html"><a href="tsmethods.html#demonstration"><i class="fa fa-check"></i><b>3.3</b> Demonstration</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tsets.html"><a href="tsets.html"><i class="fa fa-check"></i><b>4</b> tsets package</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tsets.html"><a href="tsets.html#tsets:intro"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="tsets.html"><a href="tsets.html#tsets:taxonomy"><i class="fa fa-check"></i><b>4.2</b> Taxonomy of Models</a></li>
<li class="chapter" data-level="4.3" data-path="tsets.html"><a href="tsets.html#tsets:extensions"><i class="fa fa-check"></i><b>4.3</b> Extensions</a></li>
<li class="chapter" data-level="4.4" data-path="tsets.html"><a href="tsets.html#some-encompasing-alternatives"><i class="fa fa-check"></i><b>4.4</b> Some Encompasing Alternatives</a></li>
<li class="chapter" data-level="4.5" data-path="tsets.html"><a href="tsets.html#tsets:implementation"><i class="fa fa-check"></i><b>4.5</b> Package Implementation</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="tsets.html"><a href="tsets.html#tsets:implementation:constraints"><i class="fa fa-check"></i><b>4.5.1</b> Constraints</a></li>
<li class="chapter" data-level="4.5.2" data-path="tsets.html"><a href="tsets.html#tsets:implementation:initialization"><i class="fa fa-check"></i><b>4.5.2</b> Initialization</a></li>
<li class="chapter" data-level="4.5.3" data-path="tsets.html"><a href="tsets.html#tsets:implementation:transformations"><i class="fa fa-check"></i><b>4.5.3</b> Transformations</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="tsets.html"><a href="tsets.html#tsets:demonstration"><i class="fa fa-check"></i><b>4.6</b> Demonstration</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="tsets.html"><a href="tsets.html#tsets:demonstration:specification"><i class="fa fa-check"></i><b>4.6.1</b> The Specification Object</a></li>
<li class="chapter" data-level="4.6.2" data-path="tsets.html"><a href="tsets.html#tsets:demonstration:estimation"><i class="fa fa-check"></i><b>4.6.2</b> Estimation</a></li>
<li class="chapter" data-level="4.6.3" data-path="tsets.html"><a href="tsets.html#tsets:demonstration:prediction"><i class="fa fa-check"></i><b>4.6.3</b> Prediction</a></li>
<li class="chapter" data-level="4.6.4" data-path="tsets.html"><a href="tsets.html#tsets:demonstration:filtering"><i class="fa fa-check"></i><b>4.6.4</b> Filtering</a></li>
<li class="chapter" data-level="4.6.5" data-path="tsets.html"><a href="tsets.html#tsets:demonstration:simulation"><i class="fa fa-check"></i><b>4.6.5</b> Simulation</a></li>
<li class="chapter" data-level="4.6.6" data-path="tsets.html"><a href="tsets.html#tsets:demonstration:profiling"><i class="fa fa-check"></i><b>4.6.6</b> Profiling</a></li>
<li class="chapter" data-level="4.6.7" data-path="tsets.html"><a href="tsets.html#tsets:demonstration:backtesting"><i class="fa fa-check"></i><b>4.6.7</b> Backtesting</a></li>
<li class="chapter" data-level="4.6.8" data-path="tsets.html"><a href="tsets.html#tsets:demonstration:benchmarking"><i class="fa fa-check"></i><b>4.6.8</b> Benchmarking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="tsissm.html"><a href="tsissm.html"><i class="fa fa-check"></i><b>5</b> tsissm package</a>
<ul>
<li class="chapter" data-level="5.1" data-path="tsissm.html"><a href="tsissm.html#tsissm:introduction"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="tsissm.html"><a href="tsissm.html#tsissm:initialization"><i class="fa fa-check"></i><b>5.2</b> State Initialization</a></li>
<li class="chapter" data-level="5.3" data-path="tsissm.html"><a href="tsissm.html#tsissm:likelihood"><i class="fa fa-check"></i><b>5.3</b> Log-Likelihood</a></li>
<li class="chapter" data-level="5.4" data-path="tsissm.html"><a href="tsissm.html#tsissm:implementation"><i class="fa fa-check"></i><b>5.4</b> Package Implementation</a></li>
<li class="chapter" data-level="5.5" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration"><i class="fa fa-check"></i><b>5.5</b> Demonstration</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration:specification"><i class="fa fa-check"></i><b>5.5.1</b> Specification</a></li>
<li class="chapter" data-level="5.5.2" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration:estimation"><i class="fa fa-check"></i><b>5.5.2</b> Estimation</a></li>
<li class="chapter" data-level="5.5.3" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration:prediction"><i class="fa fa-check"></i><b>5.5.3</b> Prediction</a></li>
<li class="chapter" data-level="5.5.4" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration:simulation"><i class="fa fa-check"></i><b>5.5.4</b> Simulation</a></li>
<li class="chapter" data-level="5.5.5" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration:filtering"><i class="fa fa-check"></i><b>5.5.5</b> Filtering</a></li>
<li class="chapter" data-level="5.5.6" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration:profiling"><i class="fa fa-check"></i><b>5.5.6</b> Profiling</a></li>
<li class="chapter" data-level="5.5.7" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration:backtesting"><i class="fa fa-check"></i><b>5.5.7</b> Backtesting</a></li>
<li class="chapter" data-level="5.5.8" data-path="tsissm.html"><a href="tsissm.html#tsissm:demonstration:benchmarking"><i class="fa fa-check"></i><b>5.5.8</b> Benchmarking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tsvets.html"><a href="tsvets.html"><i class="fa fa-check"></i><b>6</b> tsvets package</a>
<ul>
<li class="chapter" data-level="6.1" data-path="tsvets.html"><a href="tsvets.html#tsvets:introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="tsvets.html"><a href="tsvets.html#tsvets:regressors"><i class="fa fa-check"></i><b>6.2</b> Inclusion of External Regressors</a></li>
<li class="chapter" data-level="6.3" data-path="tsvets.html"><a href="tsvets.html#tsvets:likelihood"><i class="fa fa-check"></i><b>6.3</b> Log-Likelihood</a></li>
<li class="chapter" data-level="6.4" data-path="tsvets.html"><a href="tsvets.html#tsvets:dependence"><i class="fa fa-check"></i><b>6.4</b> Dependence Structure</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="tsvets.html"><a href="tsvets.html#tsvets:dependence:diagonal"><i class="fa fa-check"></i><b>6.4.1</b> Diagonal Covariance</a></li>
<li class="chapter" data-level="6.4.2" data-path="tsvets.html"><a href="tsvets.html#tsvets:dependence:equicorrelation"><i class="fa fa-check"></i><b>6.4.2</b> Equicorrelation</a></li>
<li class="chapter" data-level="6.4.3" data-path="tsvets.html"><a href="tsvets.html#tsvets:dependence:shrinkage"><i class="fa fa-check"></i><b>6.4.3</b> Shrinkage Covariance</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="tsvets.html"><a href="tsvets.html#tsvets:grouping"><i class="fa fa-check"></i><b>6.5</b> Grouping and Pooling</a></li>
<li class="chapter" data-level="6.6" data-path="tsvets.html"><a href="tsvets.html#tsvets:homogeneous"><i class="fa fa-check"></i><b>6.6</b> Homogeneous Coefficients and Aggregation</a></li>
<li class="chapter" data-level="6.7" data-path="tsvets.html"><a href="tsvets.html#tsvets:demonstration"><i class="fa fa-check"></i><b>6.7</b> Demonstration</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="tsvets.html"><a href="tsvets.html#tsvets:demonstration:specification"><i class="fa fa-check"></i><b>6.7.1</b> Specification</a></li>
<li class="chapter" data-level="6.7.2" data-path="tsvets.html"><a href="tsvets.html#tsvets:demonstration:example1"><i class="fa fa-check"></i><b>6.7.2</b> Example: Australian Retail Sales</a></li>
<li class="chapter" data-level="6.7.3" data-path="tsvets.html"><a href="tsvets.html#tsvets:demonstration:example2"><i class="fa fa-check"></i><b>6.7.3</b> Example: Australian Retail Sales Grouped Dynamics</a></li>
<li class="chapter" data-level="6.7.4" data-path="tsvets.html"><a href="tsvets.html#tsvets:demonstration:example3"><i class="fa fa-check"></i><b>6.7.4</b> Example: Australian Retail Sales Filtering</a></li>
<li class="chapter" data-level="6.7.5" data-path="tsvets.html"><a href="tsvets.html#tsvets:demonstration:example4"><i class="fa fa-check"></i><b>6.7.5</b> Example: Australian Retail Sales Aggregation</a></li>
<li class="chapter" data-level="6.7.6" data-path="tsvets.html"><a href="tsvets.html#tsvets:demonstration:example6"><i class="fa fa-check"></i><b>6.7.6</b> Example: Groupwise Pooling</a></li>
<li class="chapter" data-level="6.7.7" data-path="tsvets.html"><a href="tsvets.html#tsvets:demonstration:example5"><i class="fa fa-check"></i><b>6.7.7</b> Example: Price Volume Aggregation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tsforeign.html"><a href="tsforeign.html"><i class="fa fa-check"></i><b>7</b> tsforeign package</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tsforeign.html"><a href="tsforeign.html#tsforeign:introduction"><i class="fa fa-check"></i><b>7.1</b> Introduction</a></li>
<li class="chapter" data-level="7.2" data-path="tsforeign.html"><a href="tsforeign.html#tsforeign:arima"><i class="fa fa-check"></i><b>7.2</b> ARIMA model</a></li>
<li class="chapter" data-level="7.3" data-path="tsforeign.html"><a href="tsforeign.html#tsforeign:bsts"><i class="fa fa-check"></i><b>7.3</b> bsts model</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tscausal.html"><a href="tscausal.html"><i class="fa fa-check"></i><b>8</b> tscausal package</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tscausal.html"><a href="tscausal.html#tscausal:introduction"><i class="fa fa-check"></i><b>8.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2" data-path="tscausal.html"><a href="tscausal.html#tscausal:evalmeasures"><i class="fa fa-check"></i><b>8.2</b> Measures of Evaluation</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="tscausal.html"><a href="tscausal.html#tscausal:evalmeasures:pointwise"><i class="fa fa-check"></i><b>8.2.1</b> Pointwise Impact</a></li>
<li class="chapter" data-level="8.2.2" data-path="tscausal.html"><a href="tscausal.html#tscausal:evalmeasures:cumulative"><i class="fa fa-check"></i><b>8.2.2</b> Cumulative Impact</a></li>
<li class="chapter" data-level="8.2.3" data-path="tscausal.html"><a href="tscausal.html#tscausal:evalmeasures:meaneffect"><i class="fa fa-check"></i><b>8.2.3</b> Mean Effect</a></li>
<li class="chapter" data-level="8.2.4" data-path="tscausal.html"><a href="tscausal.html#tscausal:evalmeasures:relativeeffect"><i class="fa fa-check"></i><b>8.2.4</b> Mean Relative Effect</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="tscausal.html"><a href="tscausal.html#tscausal:significance"><i class="fa fa-check"></i><b>8.3</b> Evaluation of Significance</a></li>
<li class="chapter" data-level="8.4" data-path="tscausal.html"><a href="tscausal.html#tscausl:features"><i class="fa fa-check"></i><b>8.4</b> Package Features</a></li>
<li class="chapter" data-level="8.5" data-path="tscausal.html"><a href="tscausal.html#tscausl:demo"><i class="fa fa-check"></i><b>8.5</b> Package Demo</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="other.html"><a href="other.html"><i class="fa fa-check"></i><b>9</b> Other packages</a></li>
<li class="chapter" data-level="10" data-path="experimental.html"><a href="experimental.html"><i class="fa fa-check"></i><b>10</b> Experimental Functionality</a>
<ul>
<li class="chapter" data-level="10.1" data-path="experimental.html"><a href="experimental.html#calibration-of-predictive-distributions"><i class="fa fa-check"></i><b>10.1</b> Calibration of Predictive Distributions</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="experimental.html"><a href="experimental.html#example-coming-soon"><i class="fa fa-check"></i><b>10.1.1</b> Example [Coming Soon]</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="experimental.html"><a href="experimental.html#beyond-box-cox-the-logit-normal-assumption-for-ratios"><i class="fa fa-check"></i><b>10.2</b> Beyond Box-Cox : The Logit-Normal Assumption for Ratios</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="news.html"><a href="news.html"><i class="fa fa-check"></i><b>11</b> News</a></li>
<li class="chapter" data-level="12" data-path="team.html"><a href="team.html"><i class="fa fa-check"></i><b>12</b> The tsmodels team</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Time Series Framework</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tsets" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> tsets package</h1>
<div id="tsets:intro" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Introduction</h2>
<p>Exponential smoothing was proposed by Robert G. Brown, originally in <span class="citation">Brown (<a href="#ref-brown1959" role="doc-biblioref">1959</a>)</span> and later in <span class="citation">Brown (<a href="#ref-brown1962" role="doc-biblioref">1962</a>)</span>, where he developed the general exponential smoothing methodology in the context of inventory management, production planning and control. Independently, Charles C. Holt developed a similar method for exponential smoothing of additive trends and an entirely different method for smoothing seasonal data in <span class="citation">Holt (<a href="#ref-holt1957" role="doc-biblioref">1957</a>)</span>. This approach gained popularity following <span class="citation">Winters (<a href="#ref-winters1960" role="doc-biblioref">1960</a>)</span>, which tested Holt’s methods with empirical data, from whence the now popular Holt-Winters forecasting system came to prominence. More recently, <span class="citation">R. J. Hyndman et al. (<a href="#ref-hyndman2002" role="doc-biblioref">2002</a>)</span> and <span class="citation">Taylor (<a href="#ref-taylor2003" role="doc-biblioref">2003</a>)</span> formalized the framework and provided a taxonomy of the various models under different assumptions on the type of Error (E), Trend (T) and Seasonality (S) components.</p>
<p>In their most basic form, exponential smoothing methods are weighted sums of past observations, with the weights decaying exponentially with older observations. They form a simpler alternative to the more complex structural time series models (see <span class="citation">Harvey (<a href="#ref-harvey1990" role="doc-biblioref">1990</a>)</span> and <span class="citation">West and Harrison (<a href="#ref-west2006" role="doc-biblioref">2006</a>)</span>), by adopting the innovations formulation of the state space representation with all sources of error perfectly correlated.<a href="references.html#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a> The Single Source of Errors model is observationally equivalent to the Multiple Source of Errors model under non-restrictive assumptions, and the interested reader is referred to <span class="citation">Casals, Sotoca, and Jerez (<a href="#ref-casals1999" role="doc-biblioref">1999</a>)</span> for a proof of this.</p>
<p>Formally, the general linear innovations state space model can be written as:</p>
<p><span class="math display" id="eq:tsets1">\[\begin{equation}
\begin{array}{l}
{y_t} &amp;= {\bf{w&#39;}}{{\bf{x}}_{t - 1}} + {\varepsilon _t} ,\\
{{\bf{x}}_t} &amp;= {\bf{F}}{{\bf{x}}_{t - 1}} + {\bf{g}}{\varepsilon _t},
\end{array}
\tag{4.1}
\end{equation}\]</span></p>
<p>where <span class="math inline">\(y_t\)</span> is the observed value at time <span class="math inline">\(t\)</span>, <span class="math inline">\(\mathbf{x}_t\)</span> the vector of state variables (which may include information about the level, slope, seasonal patterns and exogenous regressors), <span class="math inline">\(\mathbf{w}\)</span> is the observation matrix and <span class="math inline">\(\mathbf{F}\)</span> the state transition matrix. An innovations state space model can be reduced to an equivalent ARIMA model with the help of the lag operator <span class="math inline">\(L\)</span>. The state equation can be rewritten as <a href="references.html#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>:</p>
<p><span class="math display" id="eq:tsets2">\[\begin{equation}
\left( {{\bf{I}} - {\bf{F}}L} \right){\mathbf{x}_t} = {\bf{g}}{\varepsilon _t}.
\tag{4.2}
\end{equation}\]</span></p>
<p>Since <span class="math inline">\({\bf{I}} - {\bf{F}}L\)</span> may not have an inverse, both sides are multiplied by its adjugate<a href="references.html#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> <span class="math inline">\(adj{\left( {{\bf{I}} - {\bf{F}}L} \right)}\)</span> to obtain:</p>
<p><span class="math display" id="eq:tsets3">\[\begin{equation}
\det\left( {{\bf{I}} - {\bf{F}}L} \right){\mathbf{x}_t} = adj{\left( {{\bf{I}} - {\bf{F}}L} \right)}{\bf{g}}{\varepsilon _t}.
\tag{4.3}
\end{equation}\]</span></p>
<p>Applying the <span class="math inline">\(\det\left( {{\bf{I}} - {\bf{F}}L} \right)\)</span> to the observation equation:</p>
<p><span class="math display" id="eq:tsets4">\[\begin{equation}
\det \left( {{\bf{I}} - {\bf{F}}L} \right){y_t} = {\bf{w&#39;}}\det \left( {{\bf{I}} - {\bf{F}}L} \right){{\mathbf{x}}_{t - 1}} + \det \left( {{\bf{I}} - {\bf{F}}L} \right){\varepsilon _t},
\tag{4.4}
\end{equation}\]</span></p>
<p>and finally replacing <span class="math inline">\(\det \left( {{\bf{I}} - {\bf{F}}L} \right){{\mathbf{x}}_{t - 1}}\)</span> with the state equation formula we obtain:</p>
<p><span class="math display" id="eq:tsets5">\[\begin{equation}
\det \left({\bf{I}} - {\bf{F}}L \right){y_t} = {\bf{w&#39;}}\det \left( {{\bf{I}} - {\bf{F}}L} \right){\bf{g}}{\varepsilon _{t - 1}} + \det \left( {{\bf{I}} - {\bf{F}}L} \right){\varepsilon _t}.
\tag{4.5}
\end{equation}\]</span></p>
<p>Defining <span class="math inline">\(\det \left( {{\bf{I}} - {\bf{F}}L} \right)\)</span> as <span class="math inline">\(\eta\left(L\right)\)</span> and <span class="math inline">\({\bf{w&#39;}}\det \left( {{\bf{I}} - {\bf{F}}L} \right){\bf{g}}{L} + \det \left( {{\bf{I}} - {\bf{F}}L} \right)\)</span> as <span class="math inline">\(\theta\left(L\right)\)</span> we obtain the typical ARIMA representation<a href="references.html#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a> <span class="math inline">\(\eta \left( L \right){y_t} = \theta \left( L \right){\varepsilon _t}\)</span>, where <span class="math inline">\(\eta\left(L\right)\)</span> and <span class="math inline">\(\theta\left(L\right)\)</span> are polynomials in the lag operator <span class="math inline">\(L\)</span> and may include powers of <span class="math inline">\(L\)</span> related to the seasonal period <span class="math inline">\(m\)</span>. To obtain the ARIMA representation, set <span class="math inline">\(\eta \left( L \right){y_t} = \phi \left( L \right)\delta \left( L \right){y_t}\)</span>, where <span class="math inline">\(\delta\left(L\right)\)</span> contains all unit roots of the polynomial.</p>
<p>Typical examples include the damped local trend model,<a href="references.html#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a> which can be represented by an ARIMA(1,1,2) model and the local linear trend model, which can be represented as an ARIMA(0,2,2) model. On the other hand, an ARIMA(2,0,2) model with complex roots, which gives rise to cyclical behavior, cannot be represented by an exponential smoothing model.</p>
</div>
<div id="tsets:taxonomy" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Taxonomy of Models</h2>
<p>Table <a href="tsets.html#tab:taxonomy">4.1</a> presents the taxonomy proposed by <span class="citation">Pegels (<a href="#ref-pegels" role="doc-biblioref">1969</a>)</span> and <span class="citation">Gardner Jr (<a href="#ref-gardner1985" role="doc-biblioref">1985</a>)</span> for exponential smoothing models. In addition, for each of the 12 model combinations presented, it is possible to have either additive or multiplicative errors, giving rise to the <strong>ETS</strong> formulation of <strong>E</strong>rror, <strong>T</strong>rend and <strong>S</strong>easonal. For instance, the <strong>MAM</strong> model corresponds to Multiplicative Error, Additive Trend and Multiplicative Seasonality.</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:taxonomy">TABLE 4.1: </span>Exponential Smoothing Model Taxonomy
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
N
</th>
<th style="text-align:center;">
A
</th>
<th style="text-align:center;">
M
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(none)
</td>
<td style="text-align:center;">
(additive)
</td>
<td style="text-align:center;">
(multiplicative)
</td>
</tr>
<tr>
<td style="text-align:left;">
N (none)
</td>
<td style="text-align:center;">
NN
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NM
</td>
</tr>
<tr>
<td style="text-align:left;">
A (additive)
</td>
<td style="text-align:center;">
AN
</td>
<td style="text-align:center;">
AA
</td>
<td style="text-align:center;">
AM
</td>
</tr>
<tr>
<td style="text-align:left;">
M (multiplicative)
</td>
<td style="text-align:center;">
MN
</td>
<td style="text-align:center;">
MA
</td>
<td style="text-align:center;">
MM
</td>
</tr>
<tr>
<td style="text-align:left;">
D (damped)
</td>
<td style="text-align:center;">
DN
</td>
<td style="text-align:center;">
DA
</td>
<td style="text-align:center;">
DM
</td>
</tr>
</tbody>
</table>
<p>Following <span class="citation">Ord, Koehler, and Snyder (<a href="#ref-ord1997" role="doc-biblioref">1997</a>)</span> and <span class="citation">R. J. Hyndman et al. (<a href="#ref-hyndman2002" role="doc-biblioref">2002</a>)</span>, we present a state space formulation the ETS modelling system.</p>
<p><span class="math display" id="eq:tsets6">\[\begin{equation}
\begin{array}{l}
{y_t} = h\left( {{\mathbf{x}_{t - 1}}} \right) + k\left( {{\mathbf{x}_{t - 1}}} \right){\varepsilon _t},\\
{\mathbf{x}_t} = f\left( {{\mathbf{x}_{t - 1}}} \right) + g\left( {{\mathbf{x}_{t - 1}}} \right){\varepsilon _t},
\end{array}
\tag{4.6}
\end{equation}\]</span></p>
<p>where <span class="math inline">\({\varepsilon _t} \sim N\left( {0,{\sigma ^2}} \right)\)</span> and <span class="math inline">\({\mathbf{x}_t} = \left\{ {{l_t},{b_t},{s_{t - 1}},...,{s_{t - \left( {m - 1} \right)}}} \right\}\)</span>. Defining <span class="math inline">\({e_t} = k\left( {{x_{t - 1}}} \right){\varepsilon _t}\)</span> and <span class="math inline">\({\mu _t} = h\left( {{x_{t - 1}}} \right)\)</span>, then <span class="math inline">\({y_t} = {\mu _t} + {e_t}\)</span>. When errors are additive, then <span class="math inline">\(y_t=\mu_t + \varepsilon_t\)</span> and <span class="math inline">\(k\left( {{x_{t - 1}}} \right)=1\)</span>, whilst when errors are multiplicative, then <span class="math inline">\(y_t=\mu_t\left(1+\varepsilon_t\right)\)</span> and therefore <span class="math inline">\(k\left( {{x_{t - 1}}} \right)=\mu_t\)</span> so that <span class="math inline">\(\varepsilon_t=\frac{\left(y_t-\mu_t\right)}{\mu_t}\)</span> represents a relative error. For illustration, we show below the additive error with additive trend and seasonality:</p>
<p><span class="math display" id="eq:tsets7">\[\begin{equation}
\begin{array}{l}
{{\hat y}_t} = {l_{t - 1}} + \phi {b_{t - 1}} + {s_{t - m}},\\
{\varepsilon _t} = {y_t} - {{\hat y}_t},\\
{l_t} = {l_{t - 1}} + \phi {b_{t - 1}} + \alpha {\varepsilon _t},\\
{b_t} = \phi {b_{t - 1}} + \beta {\varepsilon _t},\\
{s_t} = {s_{t - m}} + \gamma {\varepsilon _t},
\end{array}
\tag{4.7}
\end{equation}\]</span></p>
<p>with <span class="math inline">\(\phi\)</span> representing the damping parameter which is equal to one when there is no damping. The <span class="math inline">\(h\)</span>-step ahead forecast is then given as:</p>
<p><span class="math display" id="eq:tsets8">\[\begin{equation}
{y_{t + h}} = \left\{ {\begin{array}{*{20}{c}}
{{l_t} + h{b_t} + {s_{t - m + h_m^ + }}},&amp;{\phi \in \left\{ \emptyset \right\}},\\
{{l_t} + {\phi^h}{b_t} + {s_{t - m + h_m^ + }}},&amp;{\phi \in [0,1]},
\end{array}} \right.
\tag{4.8}
\end{equation}\]</span></p>
<p>where <span class="math inline">\(h_m^ + = \left[ {\left( {h - 1} \right)\bmod m} \right] + 1\)</span>.</p>
</div>
<div id="tsets:extensions" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Extensions</h2>
<p>A number of extensions have been suggested and too numerous to outline here.
One interesting model proposed by <span class="citation">Koehler, Snyder, and Ord (<a href="#ref-koehler2001" role="doc-biblioref">2001</a>)</span> is the decomposition of the MAM model to include power terms as follows:</p>
<p><span class="math display" id="eq:tsets9">\[\begin{equation}
\begin{array}{l}
{y_t} = \left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right){s_{t - m}} + {\left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)^\theta }{s^\delta }_{t - m}{\varepsilon _t},\\
{l_t} = \left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right) + \alpha {\left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)^\theta }{s_{t - m}^{\delta  - 1}}{\varepsilon _t},\\
{b_t} = \phi {b_{t - 1}} + \beta {\left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)^\theta }{s_{t - m}^{\delta  - 1}}{\varepsilon _t},\\
{s_t} = {s_{t - m}} + \gamma {\left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)^{\theta  - 1}}{s_{t - m}^\delta}{\varepsilon _t}.
\end{array}
\tag{4.9}
\end{equation}\]</span></p>
<p>When <span class="math inline">\(\theta=1\)</span> and <span class="math inline">\(\delta=1\)</span>, this reduces to the standard MAM model. When <span class="math inline">\(\theta=0\)</span> and <span class="math inline">\(\delta=0\)</span> this is reduces to the AAM model or the AAN model if there is no seasonal term. The exponents can be thought as controlling the degree of heteroscedasticity in the data, since the unscaled residuals <span class="math inline">\(\epsilon_t\)</span> are distributed as:</p>
<p><span class="math display" id="eq:tsets10">\[\begin{equation}
{\epsilon_t} = {y_t} - \left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right){s_{t - m}},\quad {\epsilon_t} | \mathcal{F}_{t-1} \sim N\left( {0,{{\left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)}^{2\theta} }{s_{t-m}^{2\delta}} \sigma^2 } \right),
\tag{4.10}
\end{equation}\]</span></p>
<p>which is an appealing alternative to Box Cox and related transformations. For instance, as <span class="citation">R. Hyndman et al. (<a href="#ref-hyndman2008" role="doc-biblioref">2008</a>)</span> 4.4.5 notes, a value of <span class="math inline">\(\theta=1/3\)</span> would produce a variance proportional to the <span class="math inline">\(2/3\)</span> power of the mean, similar to the cube root transformation.</p>
<p>Normalized seasonality, discussed in <span class="citation">Roberts (<a href="#ref-roberts1982" role="doc-biblioref">1982</a>)</span> and <span class="citation">McKenzie (<a href="#ref-mckenzie1986" role="doc-biblioref">1986</a>)</span>, can be used to de-seasonalize the data, by acting as a filter, and is required for implementing the Wiener-Kolmogorov (WK) filter (smoother). This is discussed in more detail in Chapter 8 of <span class="citation">R. Hyndman et al. (<a href="#ref-hyndman2008" role="doc-biblioref">2008</a>)</span>, and is implemented as an option in the <strong>tsets</strong> package.</p>
<p>Another avenue of interest is in the multivariate generalization of the model presented in <span class="citation">De Silva, Hyndman, and Snyder (<a href="#ref-desilva2010" role="doc-biblioref">2010</a>)</span>. It has the ability to incorporate common levels, trends or seasonality and is implemented in the <strong>tsvets</strong> package.</p>
</div>
<div id="some-encompasing-alternatives" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Some Encompasing Alternatives</h2>
<p>The general state space representation (see <span class="citation">Harvey (<a href="#ref-harvey1990" role="doc-biblioref">1990</a>)</span>), based on the multiple sources of error (MSOE) state space model, provides a more general implementation of the unobserved components model, albeit requiring the use of the Kalman filter for estimation. The model is flexible enough to incorporate many types of additive models, including cyclical behavior and regressors, although the nonlinear (multiplicative) variations require the extended Kalman filter for estimation. The <a href="https://cran.r-project.org/web/packages/bsts/"><strong>bsts</strong></a> package of <span class="citation">Steven L. Scott and Varian (<a href="#ref-scott2015" role="doc-biblioref">2015</a>)</span> provides fast and efficient computation of Bayesian Unobserved Components, with the option of a spike and slab prior for regressor regularization, for which we provide a wrapper in the <strong>tsforeign</strong> package.</p>
</div>
<div id="tsets:implementation" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Package Implementation</h2>
<p>The <strong>tsets</strong> package implements 4 families of models, whose equations are given in Tables <a href="tsets.html#tab:models1">4.2</a> and <a href="tsets.html#tab:models2">4.3</a>. These are the full equations assuming all variables (trend, damped, seasonal and regressors) enter the model, but any and all combinations of the variables are allowed. Methods implemented include Quasi-ML estimation, prediction, simulation, plotting and post-estimation diagnostics.</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:models1">TABLE 4.2: </span>AAA and MMM Model Equations
</caption>
<thead>
<tr>
<th style="text-align:left;">
Equation
</th>
<th style="text-align:center;">
AAA
</th>
<th style="text-align:center;">
MMM
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Observation
</td>
<td style="text-align:center;">
<span class="math inline">\({y_t} = {l_{t - 1}} + \phi{b_{t - 1}} + {s_{t - m}} + \bf{x}_{t - 1}\bf{w} + \varepsilon_t\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({y_t} = {l_{t - 1}}{b_{t-1}^\phi}\left(1.0 + \bf{x}_{t-1}\bf{w}\right){s_{t - m}}\left(1 + \varepsilon _t\right)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Mean
</td>
<td style="text-align:center;">
<span class="math inline">\({\mu _t} = {l_{t - 1}} + \phi{b_{t - 1}} + {s_{t - m}} + {{\bf{x}}_{t - 1}}{\bf{w}}\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({\mu_t} = {l_{t - 1}}{b^\phi_{t - 1}}\left( {{{1.0 + \bf{x}}_{t-1}}{\bf{w}}} \right){s_{t - m}}\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Distribution
</td>
<td style="text-align:center;">
<span class="math inline">\({\hat y_t}\left| {{\Im _{t - 1}} \sim N\left( {{\mu _t},\sigma } \right)} \right.\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({{\hat y}_t}\left| {{\Im _{t - 1}} \sim N\left( {{\mu _t},{l_{t - 1}}{b_{t-1}^\phi}\left( {{{\bf{x}}_{t-1}}{\bf{w}}} \right){s_{t - m}}\sigma } \right)} \right.\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Error
</td>
<td style="text-align:center;">
<span class="math inline">\({\varepsilon _t} = {y_t} - {\mu _t}\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({\varepsilon _t} = \frac{{{y_t} - {\mu _t}}}{{{l_{t - 1}}{b}_{t - 1}^\phi \left( {{{1.0 + \bf{x}}_{t-1}}{\bf{w}}} \right){s_{t - m}}}}\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Level[State]
</td>
<td style="text-align:center;">
<span class="math inline">\({l_t} = {l_{t - 1}} + \phi {b_{t - 1}} + \alpha {\varepsilon _t}\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({l_t} = {l_{t - 1}}{b_{t-1}^\phi}\left( {1 + \alpha {\varepsilon _t}} \right)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Trend[State]
</td>
<td style="text-align:center;">
<span class="math inline">\({b_t} = \phi {b_{t - 1}} + \beta {\varepsilon _t}\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({b_t} = {b_{t-1}^\phi}\left( {1 + \beta {\varepsilon _t}} \right)\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Seasonal[State]
</td>
<td style="text-align:center;">
<span class="math inline">\({s_t} = {s_{t - m}} + \gamma {\varepsilon _t}\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({s_t} = {s_{t - m}}\left( {1 + \gamma {\varepsilon _t}} \right)\)</span>
</td>
</tr>
</tbody>
</table>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 11px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:models2">TABLE 4.3: </span>MAM and powerMAM Model Equations
</caption>
<thead>
<tr>
<th style="text-align:left;">
Equation
</th>
<th style="text-align:center;">
MAM
</th>
<th style="text-align:center;">
powerMAM
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Observation
</td>
<td style="text-align:center;">
<span class="math inline">\({y_t} = \left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right){s_{t - m}}\left( {1 + {\varepsilon _t}} \right)\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({y_t} = \left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right){s_{t - m}} + {\left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right)^\theta }s_{t - m}^\delta {\varepsilon _t}\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Mean
</td>
<td style="text-align:center;">
<span class="math inline">\({\mu _t} = \left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right){s_{t - m}}\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({\mu _t} = \left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right){s_{t - m}}\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Distribution
</td>
<td style="text-align:center;">
<span class="math inline">\({\hat y_t}\left| {{\Im _{t - 1}} \sim N\left( {{\mu _t},\left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right){s_{t - m}}\sigma } \right)} \right.\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({\hat y_t}\left| {{\Im _{t - 1}} \sim N\left( {{\mu _t},{{\left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right)}^\theta }s_{t - m}^\delta \sigma } \right)} \right.\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Error
</td>
<td style="text-align:center;">
<span class="math inline">\({\varepsilon _t} = \frac{{{y_t} - {\mu _t}}}{{\left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right){s_{t - m}}}}\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({\varepsilon _t} = \frac{{{y_t} - {\mu _t}}}{{{{\left( {{l_{t - 1}} + \phi {b_{t - 1}} + {{\bf{x}}_{t - 1}}{\bf{w}}} \right)}^\theta }s_{t - m}^\delta }}\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Level[State]
</td>
<td style="text-align:center;">
<span class="math inline">\({l_t} = \left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)\left( {1 + \alpha {\varepsilon _t}} \right)\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({l_t} = \left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right) + \alpha {\left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)^\theta }s_{t - m}^{\delta - 1}{\varepsilon _t}\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Trend[State]
</td>
<td style="text-align:center;">
<span class="math inline">\({b_t} = \phi {b_{t - 1}} + \beta \left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right){\varepsilon _t}\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({b_t} = \phi {b_{t - 1}} + \beta {\left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)^\theta }s_{t - m}^{\delta - 1}{\varepsilon _t}\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Seasonal[State]
</td>
<td style="text-align:center;">
<span class="math inline">\({s_t} = {s_{t - m}}\left( {1 + \gamma {\varepsilon _t}} \right)\)</span>
</td>
<td style="text-align:center;">
<span class="math inline">\({s_t} = {s_{t - m}} + \gamma {\left( {{l_{t - 1}} + \phi {b_{t - 1}}} \right)^{\theta - 1}}s_{t - m}^\delta {\varepsilon _t}\)</span>
</td>
</tr>
</tbody>
</table>
<div id="tsets:implementation:constraints" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Constraints</h3>
<p>Variables in the additive ETS type models need to be constrained in order to achieve stability and forecastability, and the interested reader should consult Section 10.2 of <span class="citation">R. J. Hyndman, Akram, and Archibald (<a href="#ref-hyndman2008a" role="doc-biblioref">2008</a>)</span> for more details. These conditions become increasingly complex depending on the components included in the model. In our implementation we have opted for the following simple conditions:</p>
<ul>
<li><span class="math inline">\(\alpha \in \left[ {0,1} \right]\)</span>,</li>
<li><span class="math inline">\(\beta \in \left[ {0,\alpha } \right]\)</span>,</li>
<li><span class="math inline">\(\gamma \in \left[ {0,1 - \alpha } \right]\)</span>,</li>
<li><span class="math inline">\(\phi \in \left[ {0.5,1} \right]\)</span>,</li>
<li><span class="math inline">\(\theta \in \left[ {0,1} \right]\)</span>,</li>
<li><span class="math inline">\(\delta \in \left[ {0,1} \right]\)</span>,</li>
<li><span class="math inline">\(\sigma \in {{\bf{R}}_+ }\)</span>.</li>
</ul>
<p>For multiplicative models, we simply impose that <span class="math inline">\(\max\left(\alpha,\beta,\gamma\right)&lt;1\)</span> and <span class="math inline">\(\varepsilon_t&gt;-1\)</span>, although we do not impose the last condition for estimation (only for simulation).</p>
</div>
<div id="tsets:implementation:initialization" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Initialization</h3>
<p>To obtain a reasonable set of parameters for the initialization conditions of the states as well as the parameters, we obtain values for <span class="math inline">\(l_0\)</span>, <span class="math inline">\(b_0\)</span> and <span class="math inline">\(s_0\)</span> using the heuristic approach described in Section 5.2 of <span class="citation">R. Hyndman et al. (<a href="#ref-hyndman2008" role="doc-biblioref">2008</a>)</span>. There is also an option for estimating the initial states for the seasonal component.</p>
</div>
<div id="tsets:implementation:transformations" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Transformations</h3>
<p>Variance stabilizing transformations form an important part of the pre-processing of the outcome variable in order to achieve certain statistical properties which help reduce misspecification of the model. At present, we implement the Box-Cox and logit transformations with an option for automatic tuning of the parameter <span class="math inline">\(\lambda\)</span> (for Box-Cox) using the method of <span class="citation">Guerrero (<a href="#ref-guerrero1993time" role="doc-biblioref">1993</a>)</span>, from the <strong>tsaux</strong> package.</p>
</div>
</div>
<div id="tsets:demonstration" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Demonstration</h2>
<div id="tsets:demonstration:specification" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> The Specification Object</h3>
<p>The entry specification function is called <code>ets_modelspec</code></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="tsets.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressWarnings</span>(<span class="fu">suppressMessages</span>(<span class="fu">library</span>(tsets)))</span>
<span id="cb11-2"><a href="tsets.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(ets_modelspec)</span></code></pre></div>
<pre><code>## function (y, model = &quot;AAN&quot;, damped = FALSE, power = FALSE, xreg = NULL, 
##     frequency = NULL, transformation = &quot;box-cox&quot;, lambda = NULL, 
##     normalized_seasonality = TRUE, fixed_pars = NULL, scale = FALSE, 
##     seasonal_init = &quot;fixed&quot;, lower = 0, upper = 1, sampling = NULL, 
##     xreg_init = TRUE, ...) 
## NULL</code></pre>
<p>This requires passing in an <code>xts</code> vector <code>y</code>, followed by a number of options described below:</p>
<ul>
<li><code>model</code>: The ETS model type.</li>
<li><code>damped</code>: Whether to dampen the trend.</li>
<li><code>power</code>: The power MAM model (only applicable to the MAM).</li>
<li><code>xreg</code>: An <code>xts</code> matrix of regressors.</li>
<li><code>frequency</code>: The seasonal frequency of <code>y</code>, only needed if using a seasonal model.</li>
<li><code>transformation</code>: The name of the transformation</li>
<li><code>lambda</code>: The Box Box transformation parameter. If <code>NA</code>, will estimate it.</li>
<li><code>normalized_seasonality</code>: Whether to impose the normalized approach of <span class="citation">McKenzie (<a href="#ref-mckenzie1986" role="doc-biblioref">1986</a>)</span>.</li>
<li><code>fixed_pars</code>: An optional named vector of fixed parameters.</li>
<li><code>scale</code>: Whether to pre-scale the data prior to estimation (will rescale back after estimation).</li>
<li><code>seasonal_init</code>: Whether to “estimate” or use the heuristic (“fixed”) values for the initial states.</li>
<li><code>lower</code>: the lower bound of the transformation (used for the Box-Cox estimation or the logit bounds).</li>
<li><code>upper</code>: the upper bound of the transformation (used for the Box-Cox estimation or the logit bounds).</li>
<li><code>sampling</code>: An optional string denoting the sampling frequency of the data (will try to discover it if <code>NULL</code>).</li>
<li><code>xreg_init</code>: An optional vector of initial parameters for the regressors.</li>
</ul>
<p>The <code>xreg_init</code> argument is particularly useful for initializing the parameters
for the regressors during estimation which may sometime be difficult due to different
scales. The function <em>auto_regressors</em> from the <strong>tsaux</strong> package will always return
these values which can be then passed to this argument.</p>
</div>
<div id="tsets:demonstration:estimation" class="section level3" number="4.6.2">
<h3><span class="header-section-number">4.6.2</span> Estimation</h3>
<p>For illustration, we use the <code>gas</code> dataset from the <strong>tsdatasets</strong> package,
representing weekly US finished motor gasoline products supplied
(in thousands of barrels per day) from February 1991 to May 2005.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="tsets.html#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(gas, <span class="at">package =</span> <span class="st">&quot;tsdatasets&quot;</span>)</span>
<span id="cb13-2"><a href="tsets.html#cb13-2" aria-hidden="true" tabindex="-1"></a>spec <span class="ot">&lt;-</span> <span class="fu">ets_modelspec</span>(gas[<span class="dv">1</span><span class="sc">:</span>(<span class="fu">NROW</span>(gas) <span class="sc">-</span> <span class="dv">52</span>)], <span class="at">model =</span> <span class="st">&quot;AAA&quot;</span>, <span class="at">frequency =</span> <span class="dv">52</span>, <span class="at">lambda =</span> <span class="cn">NA</span>)</span>
<span id="cb13-3"><a href="tsets.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(spec, <span class="at">max.level =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## List of 5
##  $ target   :List of 6
##  $ model    :List of 15
##  $ seasonal :List of 1
##  $ transform:List of 7
##  $ xreg     :List of 3
##  - attr(*, &quot;class&quot;)= chr [1:2] &quot;tsets.spec&quot; &quot;tsmodel.spec&quot;</code></pre>
<p>The specification object returns a list which inherits the <code>tsmodel.spec</code>
class and has a number of slots. Common across the <strong>tsmodels</strong> framework
will be the <code>target</code> slot, which has the target variable with details on its
sampling frequency among others, the <code>transform</code> slot, which contains the
Box Cox transformation and its inverse, and the <code>xreg</code> slot, which contains
any optionally including external regressors.</p>
<p>Estimation by default will use the nlminb solver with <code>autodiff</code> on. There is
also an option of using the hessian by setting <code>use_hessian</code> to TRUE, in which
case the standard errors and p-values if available are also generated.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="tsets.html#cb15-1" aria-hidden="true" tabindex="-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">estimate</span>(spec)</span>
<span id="cb15-2"><a href="tsets.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mod)</span></code></pre></div>
<pre><code>## 
## ETS Model [ AAA ]
## 
## Parameter   Description             Est[Value]   Std. Error    t value   Pr(&gt;|t|)
## ----------  ---------------------  -----------  -----------  ---------  ---------
## alpha       State[Level-coef]           0.0348          NaN        NaN        NaN
## beta        State[Slope-coef]           0.0001          NaN        NaN        NaN
## gamma       State[Seasonal-coef]        0.0000          NaN        NaN        NaN
## l0          State[Level-init]        7108.5605      48.1694   147.5741          0
## b0          State[Slope-init]           2.7619       0.4735     5.8331          0
## 
## 
##    LogLik        AIC       BIC       AICc
## ---------  ---------  --------  ---------
##  -6123.43   12360.86   12619.7   12371.27
## 
## 
##   MAPE     MASE    MSLRE    BIAS
## ------  -------  -------  ------
##  0.026   0.6328   0.0011   9e-04</code></pre>
<p>A number of methods exist for post-estimation inference which we illustrate below.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="tsets.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">logLik</span>(mod)</span></code></pre></div>
<pre><code>## &#39;log Lik.&#39; -6123.43 (df=6)</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="tsets.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(mod)</span></code></pre></div>
<pre><code>## [1] 12360.86</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="tsets.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(mod)</span></code></pre></div>
<pre><code>##         alpha          beta         gamma            l0            b0 
##    0.03476947    0.00010000    0.00000000 7108.56050025    2.76190798 
##            s0            s1            s2            s3            s4 
## -511.18996952 -456.41526245 -461.98649919 -139.91350053  -54.69925501 
##            s5            s6            s7            s8            s9 
##  130.45382240   30.67198353   44.64905141 -183.07147849 -118.14143955 
##           s10           s11           s12           s13           s14 
##  -36.61803477  106.86088082   64.97841126   60.58207265  133.10219815 
##           s15           s16           s17           s18           s19 
##   59.11091891  -32.12207765 -112.14202044   31.88357988   78.64699634 
##           s20           s21           s22           s23           s24 
##  166.54294243  315.25674137  247.26950318  357.09149148  240.91993671 
##           s25           s26           s27           s28           s29 
##  403.59736605  216.67098944  346.01213061  229.17309895  342.80928619 
##           s30           s31           s32           s33           s34 
##  354.71663251  245.57277925   80.87671647   80.08645793   70.46072950 
##           s35           s36           s37           s38           s39 
##  165.45430465   70.35842296  -50.38183625 -130.95815688  111.89388805 
##           s40           s41           s42           s43           s44 
##  -47.23340484 -120.85562760 -187.81733374 -108.53261498 -107.25369102 
##           s45           s46           s47           s48           s49 
##    4.20810004 -259.16694666 -266.68011313 -211.33469029 -269.16731225 
##           s50         sigma 
## -497.75901659  261.46393288</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="tsets.html#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">residuals</span>(mod, <span class="at">raw =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre><code>##             residuals
## 1991-02-01  -68.26357
## 1991-02-08 -185.24816
## 1991-02-15 -261.22191
## 1991-02-22  328.94254
## 1991-03-01   21.31185
## 1991-03-08   82.27015</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="tsets.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">residuals</span>(mod, <span class="at">raw =</span> <span class="cn">FALSE</span>))</span></code></pre></div>
<pre><code>##             residuals
## 1991-02-01  -68.30331
## 1991-02-08 -185.35576
## 1991-02-15 -261.37412
## 1991-02-22  329.13531
## 1991-03-01   21.32429
## 1991-03-08   82.31824</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="tsets.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">fitted</span>(mod))</span></code></pre></div>
<pre><code>##              fitted
## 1991-02-01 6689.303
## 1991-02-08 6618.356
## 1991-02-15 6843.374
## 1991-02-22 6894.865
## 1991-03-01 6853.676
## 1991-03-08 6864.682</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="tsets.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mod)</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/inference-1.png" width="768" /></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="tsets.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tsdiagnose</span>(mod)</span></code></pre></div>
<pre><code>## 
## Weighted Ljung-Box Test [scaled residuals]
## ------------------------------------------
##  Lag statistic  pvalue
##  [1]      9.01 0.00268
##  [2]      9.39 0.00276
##  [3]     10.77 0.00197
##  [4]     11.48 0.00221
## 
## Parameter Bounds and Conditions
## ------------------------------------------
##   coef  value  &gt;lb  &lt;ub      condition condition_pass
##  alpha 0.0348 TRUE TRUE             NA             NA
##   beta 0.0001 TRUE TRUE        &lt; alpha           TRUE
##  gamma 0.0000 TRUE TRUE  &lt; (1 - alpha)           TRUE
##    phi     NA TRUE TRUE             NA             NA
##  theta     NA TRUE TRUE             NA             NA
##  delta     NA TRUE TRUE             NA             NA
## 
## Outlier Diagnostics (based on Rosner Test)
## ------------------------------------------
## Outliers: 1998-03-27</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="tsets.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tsmetrics</span>(mod)</span></code></pre></div>
<pre><code>##     n no.pars   LogLik      AIC     BIC     AICc       MAPE      MASE
## 1 693      56 -6123.43 12360.86 12619.7 12371.27 0.02604335 0.6328421
##        MSLRE         BIAS
## 1 0.00108786 0.0008551045</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="tsets.html#cb34-1" aria-hidden="true" tabindex="-1"></a>tsd_mod <span class="ot">&lt;-</span> <span class="fu">tsdecompose</span>(mod)</span>
<span id="cb34-2"><a href="tsets.html#cb34-2" aria-hidden="true" tabindex="-1"></a>tsd_mod <span class="ot">&lt;-</span> <span class="fu">do.call</span>(cbind, <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(tsd_mod), <span class="cf">function</span>(i) tsd_mod[[i]]))</span>
<span id="cb34-3"><a href="tsets.html#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tsd_mod)</span></code></pre></div>
<pre><code>##               Level    Slope  Seasonal  Irregular
## 1991-02-01 7108.561 2.761908 -426.4712  -68.26357
## 1991-02-08 7108.949 2.755082 -497.7590 -185.24816
## 1991-02-15 7105.263 2.736557 -269.1673 -261.22191
## 1991-02-22 7098.917 2.710435 -211.3347  328.94254
## 1991-03-01 7113.065 2.743329 -266.6801   21.31185
## 1991-03-08 7116.549 2.745460 -259.1669   82.27015</code></pre>
<p>The <em>tsdecompose</em> function also has an argument for simplifying the output to
return components named Trend, Seasonal, X and Irregular.
Automatic selection can be also be carried out by using the <code>auto_ets</code> function.</p>
</div>
<div id="tsets:demonstration:prediction" class="section level3" number="4.6.3">
<h3><span class="header-section-number">4.6.3</span> Prediction</h3>
<p>All prediction objects in the tsmodels framework are of class <code>tsmodel.predict</code>,
with slots for the original series and the forecast distribution (the latter
being of class <code>tsmodel.distribution</code>). Some prediction objects will contain
additional slots, usually the original specification object as well as the
state component predicted decomposition (also of class <code>tsmodel.distribution</code>).</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="tsets.html#cb36-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">predict</span>(mod, <span class="at">h =</span> <span class="dv">52</span>, <span class="at">nsim =</span> <span class="dv">5000</span>)</span>
<span id="cb36-2"><a href="tsets.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(p)</span></code></pre></div>
<pre><code>## [1] &quot;tsets.predict&quot;   &quot;tsmodel.predict&quot;</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="tsets.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(p, <span class="at">max.level =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## List of 6
##  $ distribution   : &#39;tsets.distribution&#39; num [1:5000, 1:52] 9357 8700 8935 9116 9279 ...
##   ..- attr(*, &quot;dimnames&quot;)=List of 2
##   ..- attr(*, &quot;date_class&quot;)= chr &quot;Date&quot;
##  $ original_series:&#39;zoo&#39; series from 1991-02-01 to 2004-05-07
##   Data: num [1:693] 6621 6433 6582 7224 6875 ...
##   Index:  Date[1:693], format: &quot;1991-02-01&quot; &quot;1991-02-08&quot; ...
##  $ h              : num 52
##  $ spec           :List of 5
##   ..- attr(*, &quot;class&quot;)= chr [1:2] &quot;tsets.spec&quot; &quot;tsmodel.spec&quot;
##  $ decomposition  :List of 5
##  $ mean           :&#39;zoo&#39; series from 2004-05-14 to 2005-05-06
##   Data: Named num [1:52] 9143 9156 9161 9323 9435 ...
##   ..- attr(*, &quot;names&quot;)= chr [1:52] &quot;2004-05-14&quot; &quot;2004-05-21&quot; &quot;2004-05-28&quot; &quot;2004-06-04&quot; ...
##   Index:  Date[1:52], format: &quot;2004-05-14&quot; &quot;2004-05-21&quot; ...
##  - attr(*, &quot;class&quot;)= chr [1:2] &quot;tsets.predict&quot; &quot;tsmodel.predict&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="tsets.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p, <span class="at">n_original =</span> <span class="dv">52</span><span class="sc">*</span><span class="dv">4</span>)</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/prediction1-1.png" width="672" /></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="tsets.html#cb41-1" aria-hidden="true" tabindex="-1"></a>p_decomp <span class="ot">&lt;-</span> <span class="fu">tsdecompose</span>(p)</span>
<span id="cb41-2"><a href="tsets.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>))</span>
<span id="cb41-3"><a href="tsets.html#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p_decomp<span class="sc">$</span>Level, <span class="at">main =</span> <span class="st">&quot;Level[State] Predicted Distribution&quot;</span>)</span>
<span id="cb41-4"><a href="tsets.html#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p_decomp<span class="sc">$</span>Slope, <span class="at">main =</span> <span class="st">&quot;Slope[State] Predicted Distribution&quot;</span>)</span>
<span id="cb41-5"><a href="tsets.html#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p_decomp<span class="sc">$</span>Seasonal, <span class="at">main =</span> <span class="st">&quot;Seasonal[State] Predicted Distribution&quot;</span>)</span>
<span id="cb41-6"><a href="tsets.html#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p_decomp<span class="sc">$</span>Error, <span class="at">main =</span> <span class="st">&quot;Simulated Error Distribution&quot;</span>)</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/prediction_decomp-1.png" width="768" /></p>
<p>Since we left 52 points for out-of-sample testing, we are able to evaluate the
prediction using the <code>tsmetrics</code> method on a predicted object. This method also
takes the original series as an input in order to calculate MASE in the presence
of seasonality. The alpha parameter is the coverage rate for calculation of
the Mean Interval Score of <span class="citation">Gneiting and Raftery (<a href="#ref-gneiting2007" role="doc-biblioref">2007</a>)</span>.</p>
<p>Note that the <code>tsdecompose</code> method has an additional parameter for simplifying
the state output which effectively means that the Level and Slope are aggregated
into one components (Trend). This is probably
more useful in a package such as <strong>tsissm</strong> which may include multiple
seasonality and aggregating them sometimes make sense.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="tsets.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tsmetrics</span>(p, <span class="fu">tail</span>(gas, <span class="dv">52</span>), <span class="at">original_series =</span> spec<span class="sc">$</span>target<span class="sc">$</span>y_orig, <span class="at">alpha =</span> <span class="fl">0.05</span>)</span></code></pre></div>
<pre><code>##    h       MAPE      MASE       MSLRE        BIAS      MIS     CRPS
## 1 52 0.01447461 0.4016108 0.000388943 0.003547343 1074.333 104.6745</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="tsets.html#cb44-1" aria-hidden="true" tabindex="-1"></a>tsd_predict <span class="ot">&lt;-</span> <span class="fu">tsdecompose</span>(p, <span class="at">simplify =</span> <span class="cn">TRUE</span>)</span>
<span id="cb44-2"><a href="tsets.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>))</span>
<span id="cb44-3"><a href="tsets.html#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tsd_predict<span class="sc">$</span>Trend, <span class="at">main =</span> <span class="st">&quot;Trend[State]&quot;</span>)</span>
<span id="cb44-4"><a href="tsets.html#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tsd_predict<span class="sc">$</span>Seasonal, <span class="at">main =</span> <span class="st">&quot;Seasonal[State]&quot;</span>)</span>
<span id="cb44-5"><a href="tsets.html#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(tsd_predict<span class="sc">$</span>Irregular, <span class="at">main =</span> <span class="st">&quot;Irregular[State]&quot;</span>)</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/prediction2-1.png" width="768" /></p>
</div>
<div id="tsets:demonstration:filtering" class="section level3" number="4.6.4">
<h3><span class="header-section-number">4.6.4</span> Filtering</h3>
<p>Online filtering is when new data arrives and instead of re-estimating the model,
we instead just filter the new data based on an existing model. In the <strong>tsets</strong>
package the <code>tsfilter</code> method updates an object of class <code>tsmodel.estimate</code> with
new data as the example below illustrates. Because the class of the model is
retained and only updated (both data and states) with new information,
it is also possible to apply any method to that which admits that object
(e.g. <code>predict</code>).</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="tsets.html#cb45-1" aria-hidden="true" tabindex="-1"></a>mod_filter <span class="ot">&lt;-</span> <span class="fu">tsfilter</span>(mod, <span class="at">y =</span> gas[(<span class="fu">NROW</span>(gas) <span class="sc">-</span> <span class="dv">52</span> <span class="sc">+</span> <span class="dv">1</span>)])</span>
<span id="cb45-2"><a href="tsets.html#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(<span class="fu">fitted</span>(mod),<span class="dv">1</span>)</span></code></pre></div>
<pre><code>##              fitted
## 2004-05-07 9239.359</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="tsets.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(<span class="fu">fitted</span>(mod_filter),<span class="dv">2</span>)</span></code></pre></div>
<pre><code>##              fitted
## 2004-05-07 9239.359
## 2004-05-14 9143.025</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="tsets.html#cb49-1" aria-hidden="true" tabindex="-1"></a>mod_filter <span class="ot">&lt;-</span> <span class="fu">tsfilter</span>(mod_filter, <span class="at">y =</span> gas[(<span class="fu">NROW</span>(gas) <span class="sc">-</span> <span class="dv">52</span> <span class="sc">+</span> <span class="dv">2</span>)])</span>
<span id="cb49-2"><a href="tsets.html#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(<span class="fu">fitted</span>(mod),<span class="dv">1</span>)</span></code></pre></div>
<pre><code>##              fitted
## 2004-05-07 9239.359</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="tsets.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(<span class="fu">fitted</span>(mod_filter),<span class="dv">3</span>)</span></code></pre></div>
<pre><code>##              fitted
## 2004-05-07 9239.359
## 2004-05-14 9143.025
## 2004-05-21 9155.941</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="tsets.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">predict</span>(mod, <span class="at">h =</span> <span class="dv">12</span>)<span class="sc">$</span>mean)</span></code></pre></div>
<pre><code>## 2004-05-14 2004-05-21 2004-05-28 2004-06-04 2004-06-11 2004-06-18 
##   9158.698   9170.661   9153.782   9329.027   9439.320   9448.866</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="tsets.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">predict</span>(mod_filter, <span class="at">h =</span> <span class="dv">12</span>)<span class="sc">$</span>mean)</span></code></pre></div>
<pre><code>## 2004-05-28 2004-06-04 2004-06-11 2004-06-18 2004-06-25 2004-07-02 
##   9156.777   9321.691   9441.089   9417.546   9320.598   9447.503</code></pre>
</div>
<div id="tsets:demonstration:simulation" class="section level3" number="4.6.5">
<h3><span class="header-section-number">4.6.5</span> Simulation</h3>
<p>An estimated object can also be simulated from, with the parameters and initial states overridden by passing them as named values in the <code>pars</code> argument. The default is to initialize the states from the seed states used in the estimated object, with <code>h</code> equal to the length of the original series (default for <code>NULL</code> <code>h</code>).
Innovations for the simulation can either be parametric (normal for additive or truncated normal for multiplicative error models), based on the estimated residuals (<code>bootstrap</code> argument) or a user supplied set of uniform random numbers (which are then translated into normal or truncated normal using standard deviation equal to the model sigma and optionally scaled by <code>sigma_scale</code>).</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="tsets.html#cb57-1" aria-hidden="true" tabindex="-1"></a>sim <span class="ot">&lt;-</span> <span class="fu">simulate</span>(mod, <span class="at">nsim =</span> <span class="dv">10</span>, <span class="at">h =</span> <span class="dv">52</span><span class="sc">*</span><span class="dv">2</span>)</span>
<span id="cb57-2"><a href="tsets.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sim)</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/simulation-1.png" width="768" /></p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="tsets.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>), <span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">1</span>))</span>
<span id="cb58-2"><a href="tsets.html#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(<span class="fu">as.Date</span>(<span class="fu">colnames</span>(sim<span class="sc">$</span>Simulated)), <span class="fu">t</span>(sim<span class="sc">$</span>Simulated[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ]), <span class="at">type =</span> <span class="st">&quot;l&quot;</span>,</span>
<span id="cb58-3"><a href="tsets.html#cb58-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Simulated Paths&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb58-4"><a href="tsets.html#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb58-5"><a href="tsets.html#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(<span class="fu">as.Date</span>(<span class="fu">colnames</span>(sim<span class="sc">$</span>Simulated)), <span class="fu">t</span>(sim<span class="sc">$</span>Level[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ]), <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, </span>
<span id="cb58-6"><a href="tsets.html#cb58-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Simulated Level&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb58-7"><a href="tsets.html#cb58-7" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb58-8"><a href="tsets.html#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(<span class="fu">as.Date</span>(<span class="fu">colnames</span>(sim<span class="sc">$</span>Simulated)), <span class="fu">t</span>(sim<span class="sc">$</span>Slope[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ]), <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, </span>
<span id="cb58-9"><a href="tsets.html#cb58-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Simulated Slope&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb58-10"><a href="tsets.html#cb58-10" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span>
<span id="cb58-11"><a href="tsets.html#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="co"># not much on the seasonal since gamma coefficient is zero</span></span>
<span id="cb58-12"><a href="tsets.html#cb58-12" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(<span class="fu">as.Date</span>(<span class="fu">colnames</span>(sim<span class="sc">$</span>Simulated)), <span class="fu">t</span>(sim<span class="sc">$</span>Seasonal[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, ]), <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, </span>
<span id="cb58-13"><a href="tsets.html#cb58-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;&quot;</span>, <span class="at">main =</span> <span class="st">&quot;Simulated Seasonal&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb58-14"><a href="tsets.html#cb58-14" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/simulation-2.png" width="768" /></p>
</div>
<div id="tsets:demonstration:profiling" class="section level3" number="4.6.6">
<h3><span class="header-section-number">4.6.6</span> Profiling</h3>
<p>The <code>tsprofile</code> function profiles an estimated model by simulating and then
estimating multiple paths from the assumed DGP while leaving <code>h</code> values out
for prediction evaluation. Each simulated path is equal to the size of the
original dataset plus <code>h</code> additional values, and initialized with the initial
state vector from the model. The resulting output contains the distribution
of the MAPE, percent bias (BIAS) and mean squared log relative error (MSLRE)
per horizon <code>h</code>. Since these matrices are of class <code>tsmodel.distribution</code>,
they can be readily plotted with the special purpose <code>plot</code> function for this
class from the <strong>tsmethods</strong> package. Additionally, a data.table matrix is also
return with the distribution of the coefficients from each path estimation.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="tsets.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># profiling</span></span>
<span id="cb59-2"><a href="tsets.html#cb59-2" aria-hidden="true" tabindex="-1"></a>prof <span class="ot">&lt;-</span> <span class="fu">tsprofile</span>(mod, <span class="at">h =</span> <span class="dv">52</span>, <span class="at">nsim =</span> <span class="dv">1000</span>, <span class="at">trace =</span> <span class="dv">0</span>)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;data.table&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:xts&#39;:
## 
##     first, last</code></pre>
<pre><code>## Warning: UNRELIABLE VALUE: Future (&#39;&lt;none&gt;&#39;) unexpectedly generated random
## numbers without specifying argument &#39;seed&#39;. There is a risk that those random
## numbers are not statistically sound and the overall results might be invalid.
## To fix this, specify &#39;seed=TRUE&#39;. This ensures that proper, parallel-safe random
## numbers are produced via the L&#39;Ecuyer-CMRG method. To disable this check, use
## &#39;seed=NULL&#39;, or set option &#39;future.rng.onMisuse&#39; to &quot;ignore&quot;.</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="tsets.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(prof, <span class="at">type =</span> <span class="st">&quot;metrics&quot;</span>)</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/profile-1.png" width="768" /></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="tsets.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(prof, <span class="at">type =</span> <span class="st">&quot;coef&quot;</span>)</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/profile-2.png" width="768" /></p>
</div>
<div id="tsets:demonstration:backtesting" class="section level3" number="4.6.7">
<h3><span class="header-section-number">4.6.7</span> Backtesting</h3>
<p>The <code>tsbacktest</code> method generates an expanding window, walk forward backtest,
returning a list with the estimation/horizon predictions against actuals,
as well as a table of average performance metrics by horizon. The following
code snipper shows how to set up parallel execution using the future package
which is used across all the packages in the repository.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="tsets.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(future))</span>
<span id="cb65-2"><a href="tsets.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plan</span>(<span class="fu">list</span>(</span>
<span id="cb65-3"><a href="tsets.html#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tweak</span>(sequential),</span>
<span id="cb65-4"><a href="tsets.html#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tweak</span>(multisession, <span class="at">workers =</span> <span class="dv">5</span>)</span>
<span id="cb65-5"><a href="tsets.html#cb65-5" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb65-6"><a href="tsets.html#cb65-6" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">tsbacktest</span>(spec, <span class="at">h =</span> <span class="dv">52</span>, <span class="at">alpha =</span> <span class="fu">c</span>(<span class="fl">0.02</span>, <span class="fl">0.1</span>), <span class="at">trace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb65-7"><a href="tsets.html#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(b<span class="sc">$</span>metrics)</span></code></pre></div>
<pre><code>##    horizon variable       MAPE       MSLRE          BIAS   n MIS[0.02] MIS[0.1]
## 1:       1        y 0.02719382 0.001181631  4.852284e-05 347  1731.006 1199.827
## 2:       2        y 0.02703144 0.001171728  4.016646e-05 346  1751.405 1194.232
## 3:       3        y 0.02697888 0.001165600  8.026391e-05 345  1680.371 1186.844
## 4:       4        y 0.02710193 0.001175067  8.357437e-06 344  1731.333 1187.321
## 5:       5        y 0.02722021 0.001179874 -8.818227e-05 343  1722.267 1201.019
## 6:       6        y 0.02679243 0.001150047 -3.196561e-04 342  1691.321 1182.579</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="tsets.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(b<span class="sc">$</span>metrics<span class="sc">$</span>horizon, b<span class="sc">$</span>metrics<span class="sc">$</span>MAPE<span class="sc">*</span><span class="dv">100</span>, <span class="at">main =</span> <span class="st">&quot;Horizon MAPE&quot;</span>, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, </span>
<span id="cb67-2"><a href="tsets.html#cb67-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;MAPE[%]&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;horizon&quot;</span>)</span>
<span id="cb67-3"><a href="tsets.html#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grid</span>()</span></code></pre></div>
<p><img src="tsmodels_files/figure-html/backtest-1.png" width="672" /></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="tsets.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plan</span>(sequential)</span></code></pre></div>
</div>
<div id="tsets:demonstration:benchmarking" class="section level3" number="4.6.8">
<h3><span class="header-section-number">4.6.8</span> Benchmarking</h3>
<p>The <code>tsbenchmark</code> method is used to benchmark a model for timing and accuracy and can be used as a unit testing function.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="tsets.html#cb69-1" aria-hidden="true" tabindex="-1"></a>bench <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">tsbenchmark</span>(spec, <span class="at">solver =</span> <span class="st">&quot;optim&quot;</span>), </span>
<span id="cb69-2"><a href="tsets.html#cb69-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tsbenchmark</span>(spec, <span class="at">solver =</span> <span class="st">&quot;nlminb&quot;</span>),</span>
<span id="cb69-3"><a href="tsets.html#cb69-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tsbenchmark</span>(spec, <span class="at">solver =</span> <span class="st">&quot;nlminb&quot;</span>, <span class="at">autodiff =</span> <span class="cn">TRUE</span>),</span>
<span id="cb69-4"><a href="tsets.html#cb69-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">tsbenchmark</span>(spec, <span class="at">solver =</span> <span class="st">&quot;solnp&quot;</span>))</span>
<span id="cb69-5"><a href="tsets.html#cb69-5" aria-hidden="true" tabindex="-1"></a>bench</span></code></pre></div>
<pre><code>##                  start                 end            spec            estimate
## 1: 2022-05-02 10:19:28 2022-05-02 10:19:28 &lt;tsets.spec[5]&gt; &lt;tsets.estimate[4]&gt;
## 2: 2022-05-02 10:19:28 2022-05-02 10:19:28 &lt;tsets.spec[5]&gt; &lt;tsets.estimate[4]&gt;
## 3: 2022-05-02 10:19:28 2022-05-02 10:19:28 &lt;tsets.spec[5]&gt; &lt;tsets.estimate[4]&gt;
## 4: 2022-05-02 10:19:28 2022-05-02 10:19:28 &lt;tsets.spec[5]&gt; &lt;tsets.estimate[4]&gt;
##    solver control    loglik
## 1:  optim       0 -6125.443
## 2: nlminb       0 -6123.430
## 3: nlminb       0 -6123.430
## 4:  solnp       0 -6123.430</code></pre>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-brown1959" class="csl-entry">
Brown, Robert Goodell. 1959. <em>Statistical Forecasting for Inventory Control</em>. McGraw/Hill.
</div>
<div id="ref-brown1962" class="csl-entry">
———. 1962. <span>“Smoothing, Forecasting and Prediction of Discrete Time Series.”</span>
</div>
<div id="ref-casals1999" class="csl-entry">
Casals, José, Sonia Sotoca, and Miguel Jerez. 1999. <span>“A Fast and Stable Method to Compute the Likelihood of Time Invariant State-Space Models.”</span> <em>Economics Letters</em> 65 (3): 329–37.
</div>
<div id="ref-desilva2010" class="csl-entry">
De Silva, Ashton, Rob J Hyndman, and Ralph Snyder. 2010. <span>“The Vector Innovations Structural Time Series Framework: A Simple Approach to Multivariate Forecasting.”</span> <em>Statistical Modelling</em> 10 (4): 353–74.
</div>
<div id="ref-gardner1985" class="csl-entry">
Gardner Jr, ES. 1985. <span>“Exponential Smoothing: The State of the Art.”</span> <em>Journal of Forecasting</em> 4 (1): 1–28.
</div>
<div id="ref-gneiting2007" class="csl-entry">
Gneiting, Tilmann, and Adrian E Raftery. 2007. <span>“Strictly Proper Scoring Rules, Prediction, and Estimation.”</span> <em>Journal of the American Statistical Association</em> 102 (477): 359–78.
</div>
<div id="ref-guerrero1993time" class="csl-entry">
Guerrero, Victor M. 1993. <span>“Time-Series Analysis Supported by Power Transformations.”</span> <em>Journal of Forecasting</em> 12 (1): 37–48.
</div>
<div id="ref-harvey1990" class="csl-entry">
Harvey, Andrew C. 1990. <em>Forecasting, Structural Time Series Models and the Kalman Filter</em>. Cambridge university press.
</div>
<div id="ref-holt1957" class="csl-entry">
Holt, Charles. 1957. <span>“Forecasting Trends and Seasonals by Exponential Weighted Averages.”</span> <em>ONR Memorandum</em> 52: 1957.
</div>
<div id="ref-hyndman2008a" class="csl-entry">
Hyndman, Rob J, Muhammad Akram, and Blyth C Archibald. 2008. <span>“The Admissible Parameter Space for Exponential Smoothing Models.”</span> <em>Annals of the Institute of Statistical Mathematics</em> 60 (2): 407–26.
</div>
<div id="ref-hyndman2002" class="csl-entry">
Hyndman, Rob J, Anne B Koehler, Ralph D Snyder, and Simone Grose. 2002. <span>“A State Space Framework for Automatic Forecasting Using Exponential Smoothing Methods.”</span> <em>International Journal of Forecasting</em> 18 (3): 439–54.
</div>
<div id="ref-hyndman2008" class="csl-entry">
Hyndman, Rob, Anne B Koehler, J Keith Ord, and Ralph D Snyder. 2008. <em>Forecasting with Exponential Smoothing: The State Space Approach</em>. Springer Science &amp; Business Media.
</div>
<div id="ref-koehler2001" class="csl-entry">
Koehler, Anne B, Ralph D Snyder, and J Keith Ord. 2001. <span>“Forecasting Models and Prediction Intervals for the Multiplicative Holt-Winters Method.”</span> <em>International Journal of Forecasting</em> 17 (2): 269–86.
</div>
<div id="ref-mckenzie1986" class="csl-entry">
McKenzie, Ed. 1986. <span>“Error Analysis for Winters’ Additive Seasonal Forecasting System.”</span> <em>International Journal of Forecasting</em> 2 (3): 373–82.
</div>
<div id="ref-ord1997" class="csl-entry">
Ord, John Keith, Anne B Koehler, and Ralph D Snyder. 1997. <span>“Estimation and Prediction for a Class of Dynamic Nonlinear Statistical Models.”</span> <em>Journal of the American Statistical Association</em> 92 (440): 1621–29.
</div>
<div id="ref-pegels" class="csl-entry">
Pegels, C. Carl. 1969. <span>“Exponential Forecasting: Some New Variations.”</span> <em>Management Science</em> 15 (5): 311–15.
</div>
<div id="ref-roberts1982" class="csl-entry">
Roberts, SA. 1982. <span>“A General Class of Holt-Winters Type Forecasting Models.”</span> <em>Management Science</em> 28 (7): 808–20.
</div>
<div id="ref-scott2015" class="csl-entry">
Scott, Steven L, and Hal R Varian. 2015. <span>“Bayesian Variable Selection for Nowcasting Economic Time Series.”</span> <em>Economic Analysis of the Digital Economy</em>, 119–35.
</div>
<div id="ref-taylor2003" class="csl-entry">
Taylor, James W. 2003. <span>“Exponential Smoothing with a Damped Multiplicative Trend.”</span> <em>International Journal of Forecasting</em> 19 (4): 715–25.
</div>
<div id="ref-west2006" class="csl-entry">
West, Mike, and Jeff Harrison. 2006. <em>Bayesian Forecasting and Dynamic Models</em>. Springer Science &amp; Business Media.
</div>
<div id="ref-winters1960" class="csl-entry">
Winters, Peter R. 1960. <span>“Forecasting Sales by Exponentially Weighted Moving Averages.”</span> <em>Management Science</em> 6 (3): 324–42.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tsmethods.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tsissm.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
